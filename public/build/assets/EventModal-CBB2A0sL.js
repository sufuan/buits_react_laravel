import{x as O,j as e}from"./app-Dy3Ft7RM.js";import{D as I,b as R,c as U,d as z,e as P}from"./dialog-r6W7UYwv.js";import{B as b}from"./button-DwEHU71J.js";import{I as c}from"./input-CDPceP29.js";import{L as o}from"./label-dhblzcf9.js";import{T as V}from"./textarea-D7IGuj2Z.js";import{S as f,a as j,b as N,c as _,d as y}from"./select-BDV64bWz.js";import{S as v}from"./switch-DRLNrT3u.js";import{t as d}from"./index-BJv5NP9c.js";import{S as A,L as B}from"./sparkles-DGXTbAZE.js";import{C}from"./calendar-BvxQXd6G.js";import{M as H}from"./map-pin-DdYjeU9b.js";import{c as W}from"./createLucideIcon-CLRWZmFz.js";import{U as X,X as Y}from"./index-C4xZ7dmg.js";import{S as G}from"./save-Bxs5F7b8.js";import"./index-CL1IFjib.js";import"./clsx-B-dksMZM.js";import"./index-CyJJblEx.js";import"./index-BdQq_4o_.js";import"./index-DfUjHiyo.js";import"./index-DqZTSaU6.js";import"./index-BnDW1wfs.js";import"./index-CzLnmU25.js";import"./index-BZGcGzsz.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],K=W("palette",J);function ye({isOpen:k,onClose:u,event:s=null,initialDate:w=null,isEditMode:x=!1}){const p=r=>{if(!r)return"";const i=new Date(r),n=i.getFullYear(),m=String(i.getMonth()+1).padStart(2,"0"),$=String(i.getDate()).padStart(2,"0"),L=String(i.getHours()).padStart(2,"0"),M=String(i.getMinutes()).padStart(2,"0");return`${n}-${m}-${$}T${L}:${M}`},S=r=>r?r.length===10?`${r}T09:00`:r:"",{data:t,setData:l,post:D,put:E,processing:g,errors:a,reset:h}=O({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",start_date:s!=null&&s.start_date?p(s.start_date):S(w),end_date:s!=null&&s.end_date?p(s.end_date):"",all_day:(s==null?void 0:s.all_day)||!1,location:(s==null?void 0:s.location)||"",type:(s==null?void 0:s.type)||"other",status:(s==null?void 0:s.status)||"upcoming",color:(s==null?void 0:s.color)||"#3b82f6",max_attendees:(s==null?void 0:s.max_attendees)||"",registration_link:(s==null?void 0:s.registration_link)||"",registration_deadline:s!=null&&s.registration_deadline?p(s.registration_deadline):"",requires_registration:(s==null?void 0:s.requires_registration)||!1}),F=r=>{r.preventDefault(),x&&s?E(route("admin.events.update",s.id),{onSuccess:()=>{d.success("Event updated successfully!"),h(),u()},onError:i=>{const n=Object.values(i).flat();n.length>0?n.forEach(m=>{d.error(m)}):d.error("Failed to update event. Please check your inputs.")}}):D(route("admin.events.store"),{onSuccess:()=>{d.success("Event created successfully!"),h(),u()},onError:i=>{const n=Object.values(i).flat();n.length>0?n.forEach(m=>{d.error(m)}):d.error("Failed to create event. Please check your inputs.")}})},q=[{value:"workshop",label:"Workshop",color:"#8b5cf6",emoji:"ðŸ› ï¸"},{value:"seminar",label:"Seminar",color:"#3b82f6",emoji:"ðŸŽ“"},{value:"competition",label:"Competition",color:"#ef4444",emoji:"ðŸ†"},{value:"training",label:"Training",color:"#10b981",emoji:"ðŸ“š"},{value:"meeting",label:"Meeting",color:"#f59e0b",emoji:"ðŸ’¼"},{value:"other",label:"Other",color:"#6b7280",emoji:"ðŸ“…"}],T=[{value:"upcoming",label:"Upcoming",color:"#3b82f6"},{value:"ongoing",label:"Ongoing",color:"#f59e0b"},{value:"completed",label:"Completed",color:"#10b981"},{value:"cancelled",label:"Cancelled",color:"#ef4444"}];return e.jsx(I,{open:k,onOpenChange:u,children:e.jsxs(R,{className:"max-w-4xl max-h-[90vh] overflow-y-auto border-0 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 opacity-50 -z-10"}),e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg blur-lg opacity-50 animate-pulse"}),e.jsx(A,{className:"relative h-8 w-8 text-purple-600"})]}),e.jsxs("div",{children:[e.jsx(z,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:x?"Edit Event":"Create New Event"}),e.jsx(P,{children:x?"Update event details below":"Fill in the details to create an amazing event"})]})]})}),e.jsxs("form",{onSubmit:F,className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"title",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-blue-600"}),"Event Title *"]}),e.jsx(c,{id:"title",value:t.title,onChange:r=>l("title",r.target.value),placeholder:"Enter event title...",className:"border-2 focus:border-blue-500 transition-colors",required:!0}),a.title&&e.jsx("p",{className:"text-sm text-red-500",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",className:"text-sm font-semibold",children:"Description"}),e.jsx(V,{id:"description",value:t.description,onChange:r=>l("description",r.target.value),placeholder:"Describe your event...",rows:4,className:"border-2 focus:border-purple-500 transition-colors resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"start_date",className:"text-sm font-semibold",children:"Start Date & Time *"}),e.jsx(c,{type:"datetime-local",id:"start_date",value:t.start_date,onChange:r=>l("start_date",r.target.value),className:`border-2 focus:border-blue-500 transition-colors ${a.start_date?"border-red-500":""}`,required:!0}),a.start_date&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:a.start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"end_date",className:"text-sm font-semibold",children:"End Date & Time"}),e.jsx(c,{type:"datetime-local",id:"end_date",value:t.end_date,onChange:r=>l("end_date",r.target.value),className:`border-2 focus:border-purple-500 transition-colors ${a.end_date?"border-red-500":""}`}),a.end_date&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:a.end_date})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200",children:[e.jsx(o,{htmlFor:"all_day",className:"text-sm font-semibold cursor-pointer",children:"All Day Event"}),e.jsx(v,{id:"all_day",checked:t.all_day,onCheckedChange:r=>l("all_day",r)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-sm font-semibold",children:"Event Type *"}),e.jsxs(f,{value:t.type,onValueChange:r=>l("type",r),children:[e.jsx(j,{className:"border-2 focus:border-blue-500",children:e.jsx(N,{})}),e.jsx(_,{children:q.map(r=>e.jsx(y,{value:r.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:r.emoji}),e.jsx("span",{children:r.label})]})},r.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-sm font-semibold",children:"Status *"}),e.jsxs(f,{value:t.status,onValueChange:r=>l("status",r),children:[e.jsx(j,{className:"border-2 focus:border-purple-500",children:e.jsx(N,{})}),e.jsx(_,{children:T.map(r=>e.jsx(y,{value:r.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),e.jsx("span",{children:r.label})]})},r.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"location",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-red-500"}),"Location"]}),e.jsx(c,{id:"location",value:t.location,onChange:r=>l("location",r.target.value),placeholder:"Event venue...",className:"border-2 focus:border-red-500 transition-colors"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"color",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-purple-500"}),"Calendar Color"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{type:"color",id:"color",value:t.color,onChange:r=>l("color",r.target.value),className:"h-10 w-20 cursor-pointer"}),e.jsx(c,{type:"text",value:t.color,onChange:r=>l("color",r.target.value),className:"flex-1 border-2 focus:border-purple-500",placeholder:"#3b82f6"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"max_attendees",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-green-500"}),"Max Attendees"]}),e.jsx(c,{type:"number",id:"max_attendees",value:t.max_attendees,onChange:r=>l("max_attendees",r.target.value),placeholder:"Leave empty for unlimited",className:`border-2 focus:border-green-500 transition-colors ${a.max_attendees?"border-red-500":""}`,min:"1"}),a.max_attendees&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:a.max_attendees})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border-2 border-green-200",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requires_registration",className:"text-sm font-semibold cursor-pointer",children:"Requires Registration"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable registration for this event"})]}),e.jsx(v,{id:"requires_registration",checked:t.requires_registration,onCheckedChange:r=>l("requires_registration",r)})]}),t.requires_registration&&e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"registration_link",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-blue-500"}),"Registration Link *"]}),e.jsx(c,{type:"url",id:"registration_link",value:t.registration_link,onChange:r=>l("registration_link",r.target.value),placeholder:"https://...",className:`border-2 focus:border-blue-500 transition-colors ${a.registration_link?"border-red-500":""}`,required:t.requires_registration}),a.registration_link&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:a.registration_link})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"registration_deadline",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-orange-500"}),"Registration Deadline"]}),e.jsx(c,{type:"datetime-local",id:"registration_deadline",value:t.registration_deadline,onChange:r=>l("registration_deadline",r.target.value),className:`border-2 focus:border-orange-500 transition-colors ${a.registration_deadline?"border-red-500":""}`}),a.registration_deadline&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:a.registration_deadline}),e.jsx("p",{className:"text-xs text-gray-500",children:"Must be before or equal to event start date (leave empty for no deadline)"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsxs(b,{type:"button",variant:"outline",onClick:u,className:"border-2 hover:bg-gray-100",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(b,{type:"submit",disabled:g,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),g?"Saving...":x?"Update Event":"Create Event"]})]})]})]})})}export{ye as default};
