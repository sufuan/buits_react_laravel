import{e as ot,d as Ze,b as Je,g as nt,r as A,j as v,S as Re,a as ve}from"./app-C1-BhYwW.js";import{A as at}from"./AdminAuthenticatedLayout-n8nHtuKB.js";import{r as et}from"./index-alOraRYz.js";import{t as ae}from"./index-BfJCq-8N.js";import{B as ee}from"./button-B7iXgecm.js";import{l as ue,R as Ce}from"./quill.snow-BpJ0W0PR.js";import{C as _e,a as De,b as Ee,d as Me}from"./card-Cq9wpWkT.js";import{A as lt}from"./arrow-left-C0CAdyBD.js";import{c as be}from"./createLucideIcon-D19Eww6g.js";import{E as pt}from"./eye-gCUxj2zn.js";import{S as ct}from"./save-BpgVugEn.js";import{U as ut}from"./user-CN63AWx7.js";import{D as dt}from"./download-DmxEWweL.js";import"./badge-BIDVpDsY.js";import"./index-CHYIVxX6.js";import"./clsx-B-dksMZM.js";import"./index-CjdBt_RI.js";import"./index-D_Gva4nH.js";import"./index-AUv1zfk2.js";import"./breadcrumb-CoyL08EQ.js";import"./input-Ce-XynMX.js";import"./index-BRzXs5-t.js";import"./index-ChosiiE7.js";import"./chevron-right-Dobkmf49.js";import"./avatar-B35DdgwT.js";import"./calendar-PcuVg9g_.js";import"./award-sqH3_Nw-.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],ft=be("move",ht);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],mt=be("qr-code",gt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xt=be("rotate-ccw",bt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Te=be("type",vt);var le={exports:{}},ye={},we={exports:{}},qe,We;function yt(){if(We)return qe;We=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qe=i,qe}var ze,je;function wt(){if(je)return ze;je=1;var i=yt();function o(){}function t(){}return t.resetWarningCache=o,ze=function(){function e(a,l,x,m,b,f){if(f!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:o};return n.PropTypes=n,n},ze}var Oe;function tt(){return Oe||(Oe=1,we.exports=wt()()),we.exports}function it(i){var o,t,e="";if(typeof i=="string"||typeof i=="number")e+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(t=it(i[o]))&&(e&&(e+=" "),e+=t);else for(o in i)i[o]&&(e&&(e+=" "),e+=o);return e}function Ae(){for(var i,o,t=0,e="";t<arguments.length;)(i=arguments[t++])&&(o=it(i))&&(e&&(e+=" "),e+=o);return e}const qt=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ae,default:Ae},Symbol.toStringTag,{value:"Module"})),zt=ot(qt);var O={},te={},He;function xe(){if(He)return te;He=1,Object.defineProperty(te,"__esModule",{value:!0}),te.dontSetMe=r,te.findInArray=i,te.int=e,te.isFunction=o,te.isNum=t;function i(n,a){for(let l=0,x=n.length;l<x;l++)if(a.apply(a,[n[l],l,n]))return n[l]}function o(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function t(n){return typeof n=="number"&&!isNaN(n)}function e(n){return parseInt(n,10)}function r(n,a,l){if(n[a])return new Error("Invalid prop ".concat(a," passed to ").concat(l," - do not set this, set it on the child."))}return te}var ie={},Fe;function St(){if(Fe)return ie;Fe=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.browserPrefixToKey=t,ie.browserPrefixToStyle=e,ie.default=void 0,ie.getPrefix=o;const i=["Moz","Webkit","O","ms"];function o(){var n;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!l||a in l)return"";for(let x=0;x<i.length;x++)if(t(a,i[x])in l)return i[x];return""}function t(n,a){return a?"".concat(a).concat(r(n)):n}function e(n,a){return a?"-".concat(a.toLowerCase(),"-").concat(n):n}function r(n){let a="",l=!0;for(let x=0;x<n.length;x++)l?(a+=n[x].toUpperCase(),l=!1):n[x]==="-"?l=!0:a+=n[x];return a}return ie.default=o(),ie}var Le;function Ne(){if(Le)return O;Le=1,Object.defineProperty(O,"__esModule",{value:!0}),O.addClassName=y,O.addEvent=l,O.addUserSelectStyles=d,O.createCSSTransform=z,O.createSVGTransform=N,O.getTouch=h,O.getTouchIdentifier=c,O.getTranslation=q,O.innerHeight=f,O.innerWidth=S,O.matchesSelector=n,O.matchesSelectorAndParentsTo=a,O.offsetXYFromParent=w,O.outerHeight=m,O.outerWidth=b,O.removeClassName=R,O.removeEvent=x,O.removeUserSelectStyles=g;var i=xe(),o=e(St());function t(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,k=new WeakMap;return(t=function(C){return C?k:u})(s)}function e(s,u){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var k=t(u);if(k&&k.has(s))return k.get(s);var C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in s)if(_!=="default"&&Object.prototype.hasOwnProperty.call(s,_)){var j=E?Object.getOwnPropertyDescriptor(s,_):null;j&&(j.get||j.set)?Object.defineProperty(C,_,j):C[_]=s[_]}return C.default=s,k&&k.set(s,C),C}let r="";function n(s,u){return r||(r=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(k){return(0,i.isFunction)(s[k])})),(0,i.isFunction)(s[r])?s[r](u):!1}function a(s,u,k){let C=s;do{if(n(C,u))return!0;if(C===k)return!1;C=C.parentNode}while(C);return!1}function l(s,u,k,C){if(!s)return;const E={capture:!0,...C};s.addEventListener?s.addEventListener(u,k,E):s.attachEvent?s.attachEvent("on"+u,k):s["on"+u]=k}function x(s,u,k,C){if(!s)return;const E={capture:!0,...C};s.removeEventListener?s.removeEventListener(u,k,E):s.detachEvent?s.detachEvent("on"+u,k):s["on"+u]=null}function m(s){let u=s.clientHeight;const k=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,i.int)(k.borderTopWidth),u+=(0,i.int)(k.borderBottomWidth),u}function b(s){let u=s.clientWidth;const k=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,i.int)(k.borderLeftWidth),u+=(0,i.int)(k.borderRightWidth),u}function f(s){let u=s.clientHeight;const k=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,i.int)(k.paddingTop),u-=(0,i.int)(k.paddingBottom),u}function S(s){let u=s.clientWidth;const k=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,i.int)(k.paddingLeft),u-=(0,i.int)(k.paddingRight),u}function w(s,u,k){const E=u===u.ownerDocument.body?{left:0,top:0}:u.getBoundingClientRect(),_=(s.clientX+u.scrollLeft-E.left)/k,j=(s.clientY+u.scrollTop-E.top)/k;return{x:_,y:j}}function z(s,u){const k=q(s,u,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:k}}function N(s,u){return q(s,u,"")}function q(s,u,k){let{x:C,y:E}=s,_="translate(".concat(C).concat(k,",").concat(E).concat(k,")");if(u){const j="".concat(typeof u.x=="string"?u.x:u.x+k),U="".concat(typeof u.y=="string"?u.y:u.y+k);_="translate(".concat(j,", ").concat(U,")")+_}return _}function h(s,u){return s.targetTouches&&(0,i.findInArray)(s.targetTouches,k=>u===k.identifier)||s.changedTouches&&(0,i.findInArray)(s.changedTouches,k=>u===k.identifier)}function c(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function d(s){if(!s)return;let u=s.getElementById("react-draggable-style-el");u||(u=s.createElement("style"),u.type="text/css",u.id="react-draggable-style-el",u.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,u.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(u)),s.body&&y(s.body,"react-draggable-transparent-selection")}function g(s){if(s)try{if(s.body&&R(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{const u=(s.defaultView||window).getSelection();u&&u.type!=="Caret"&&u.removeAllRanges()}}catch{}}function y(s,u){s.classList?s.classList.add(u):s.className.match(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)")))||(s.className+=" ".concat(u))}function R(s,u){s.classList?s.classList.remove(u):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)"),"g"),"")}return O}var I={},Be;function rt(){if(Be)return I;Be=1,Object.defineProperty(I,"__esModule",{value:!0}),I.canDragX=r,I.canDragY=n,I.createCoreData=l,I.createDraggableData=x,I.getBoundPosition=t,I.getControlPosition=a,I.snapToGrid=e;var i=xe(),o=Ne();function t(f,S,w){if(!f.props.bounds)return[S,w];let{bounds:z}=f.props;z=typeof z=="string"?z:m(z);const N=b(f);if(typeof z=="string"){const{ownerDocument:q}=N,h=q.defaultView;let c;if(z==="parent"?c=N.parentNode:c=q.querySelector(z),!(c instanceof h.HTMLElement))throw new Error('Bounds selector "'+z+'" could not find an element.');const d=c,g=h.getComputedStyle(N),y=h.getComputedStyle(d);z={left:-N.offsetLeft+(0,i.int)(y.paddingLeft)+(0,i.int)(g.marginLeft),top:-N.offsetTop+(0,i.int)(y.paddingTop)+(0,i.int)(g.marginTop),right:(0,o.innerWidth)(d)-(0,o.outerWidth)(N)-N.offsetLeft+(0,i.int)(y.paddingRight)-(0,i.int)(g.marginRight),bottom:(0,o.innerHeight)(d)-(0,o.outerHeight)(N)-N.offsetTop+(0,i.int)(y.paddingBottom)-(0,i.int)(g.marginBottom)}}return(0,i.isNum)(z.right)&&(S=Math.min(S,z.right)),(0,i.isNum)(z.bottom)&&(w=Math.min(w,z.bottom)),(0,i.isNum)(z.left)&&(S=Math.max(S,z.left)),(0,i.isNum)(z.top)&&(w=Math.max(w,z.top)),[S,w]}function e(f,S,w){const z=Math.round(S/f[0])*f[0],N=Math.round(w/f[1])*f[1];return[z,N]}function r(f){return f.props.axis==="both"||f.props.axis==="x"}function n(f){return f.props.axis==="both"||f.props.axis==="y"}function a(f,S,w){const z=typeof S=="number"?(0,o.getTouch)(f,S):null;if(typeof S=="number"&&!z)return null;const N=b(w),q=w.props.offsetParent||N.offsetParent||N.ownerDocument.body;return(0,o.offsetXYFromParent)(z||f,q,w.props.scale)}function l(f,S,w){const z=!(0,i.isNum)(f.lastX),N=b(f);return z?{node:N,deltaX:0,deltaY:0,lastX:S,lastY:w,x:S,y:w}:{node:N,deltaX:S-f.lastX,deltaY:w-f.lastY,lastX:f.lastX,lastY:f.lastY,x:S,y:w}}function x(f,S){const w=f.props.scale;return{node:S.node,x:f.state.x+S.deltaX/w,y:f.state.y+S.deltaY/w,deltaX:S.deltaX/w,deltaY:S.deltaY/w,lastX:f.state.x,lastY:f.state.y}}function m(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function b(f){const S=f.findDOMNode();if(!S)throw new Error("<DraggableCore>: Unmounted during event!");return S}return I}var pe={},de={},Ue;function st(){if(Ue)return de;Ue=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=i;function i(){}return de}var $e;function kt(){if($e)return pe;$e=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var i=m(Ze()),o=l(tt()),t=l(Je()),e=Ne(),r=rt(),n=xe(),a=l(st());function l(q){return q&&q.__esModule?q:{default:q}}function x(q){if(typeof WeakMap!="function")return null;var h=new WeakMap,c=new WeakMap;return(x=function(d){return d?c:h})(q)}function m(q,h){if(q&&q.__esModule)return q;if(q===null||typeof q!="object"&&typeof q!="function")return{default:q};var c=x(h);if(c&&c.has(q))return c.get(q);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in q)if(y!=="default"&&Object.prototype.hasOwnProperty.call(q,y)){var R=g?Object.getOwnPropertyDescriptor(q,y):null;R&&(R.get||R.set)?Object.defineProperty(d,y,R):d[y]=q[y]}return d.default=q,c&&c.set(q,d),d}function b(q,h,c){return h=f(h),h in q?Object.defineProperty(q,h,{value:c,enumerable:!0,configurable:!0,writable:!0}):q[h]=c,q}function f(q){var h=S(q,"string");return typeof h=="symbol"?h:String(h)}function S(q,h){if(typeof q!="object"||q===null)return q;var c=q[Symbol.toPrimitive];if(c!==void 0){var d=c.call(q,h);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(q)}const w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let z=w.mouse,N=class extends i.Component{constructor(){super(...arguments),b(this,"dragging",!1),b(this,"lastX",NaN),b(this,"lastY",NaN),b(this,"touchIdentifier",null),b(this,"mounted",!1),b(this,"handleDragStart",h=>{if(this.props.onMouseDown(h),!this.props.allowAnyClick&&typeof h.button=="number"&&h.button!==0)return!1;const c=this.findDOMNode();if(!c||!c.ownerDocument||!c.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:d}=c;if(this.props.disabled||!(h.target instanceof d.defaultView.Node)||this.props.handle&&!(0,e.matchesSelectorAndParentsTo)(h.target,this.props.handle,c)||this.props.cancel&&(0,e.matchesSelectorAndParentsTo)(h.target,this.props.cancel,c))return;h.type==="touchstart"&&h.preventDefault();const g=(0,e.getTouchIdentifier)(h);this.touchIdentifier=g;const y=(0,r.getControlPosition)(h,g,this);if(y==null)return;const{x:R,y:s}=y,u=(0,r.createCoreData)(this,R,s);(0,a.default)("DraggableCore: handleDragStart: %j",u),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(h,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,e.addUserSelectStyles)(d),this.dragging=!0,this.lastX=R,this.lastY=s,(0,e.addEvent)(d,z.move,this.handleDrag),(0,e.addEvent)(d,z.stop,this.handleDragStop))}),b(this,"handleDrag",h=>{const c=(0,r.getControlPosition)(h,this.touchIdentifier,this);if(c==null)return;let{x:d,y:g}=c;if(Array.isArray(this.props.grid)){let s=d-this.lastX,u=g-this.lastY;if([s,u]=(0,r.snapToGrid)(this.props.grid,s,u),!s&&!u)return;d=this.lastX+s,g=this.lastY+u}const y=(0,r.createCoreData)(this,d,g);if((0,a.default)("DraggableCore: handleDrag: %j",y),this.props.onDrag(h,y)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=d,this.lastY=g}),b(this,"handleDragStop",h=>{if(!this.dragging)return;const c=(0,r.getControlPosition)(h,this.touchIdentifier,this);if(c==null)return;let{x:d,y:g}=c;if(Array.isArray(this.props.grid)){let u=d-this.lastX||0,k=g-this.lastY||0;[u,k]=(0,r.snapToGrid)(this.props.grid,u,k),d=this.lastX+u,g=this.lastY+k}const y=(0,r.createCoreData)(this,d,g);if(this.props.onStop(h,y)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(s.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",y),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,a.default)("DraggableCore: Removing handlers"),(0,e.removeEvent)(s.ownerDocument,z.move,this.handleDrag),(0,e.removeEvent)(s.ownerDocument,z.stop,this.handleDragStop))}),b(this,"onMouseDown",h=>(z=w.mouse,this.handleDragStart(h))),b(this,"onMouseUp",h=>(z=w.mouse,this.handleDragStop(h))),b(this,"onTouchStart",h=>(z=w.touch,this.handleDragStart(h))),b(this,"onTouchEnd",h=>(z=w.touch,this.handleDragStop(h)))}componentDidMount(){this.mounted=!0;const h=this.findDOMNode();h&&(0,e.addEvent)(h,w.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const h=this.findDOMNode();if(h){const{ownerDocument:c}=h;(0,e.removeEvent)(c,w.mouse.move,this.handleDrag),(0,e.removeEvent)(c,w.touch.move,this.handleDrag),(0,e.removeEvent)(c,w.mouse.stop,this.handleDragStop),(0,e.removeEvent)(c,w.touch.stop,this.handleDragStop),(0,e.removeEvent)(h,w.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(c)}}findDOMNode(){var h,c;return(h=this.props)!==null&&h!==void 0&&h.nodeRef?(c=this.props)===null||c===void 0||(c=c.nodeRef)===null||c===void 0?void 0:c.current:t.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return pe.default=N,b(N,"displayName","DraggableCore"),b(N,"propTypes",{allowAnyClick:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(q,h){if(q[h]&&q[h].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:n.dontSetMe,style:n.dontSetMe,transform:n.dontSetMe}),b(N,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),pe}var Xe;function Nt(){return Xe||(Xe=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),i.default=void 0;var o=S(Ze()),t=b(tt()),e=b(Je()),r=b(zt),n=Ne(),a=rt(),l=xe(),x=b(kt()),m=b(st());function b(c){return c&&c.__esModule?c:{default:c}}function f(c){if(typeof WeakMap!="function")return null;var d=new WeakMap,g=new WeakMap;return(f=function(y){return y?g:d})(c)}function S(c,d){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var g=f(d);if(g&&g.has(c))return g.get(c);var y={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in c)if(s!=="default"&&Object.prototype.hasOwnProperty.call(c,s)){var u=R?Object.getOwnPropertyDescriptor(c,s):null;u&&(u.get||u.set)?Object.defineProperty(y,s,u):y[s]=c[s]}return y.default=c,g&&g.set(c,y),y}function w(){return w=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(c[y]=g[y])}return c},w.apply(this,arguments)}function z(c,d,g){return d=N(d),d in c?Object.defineProperty(c,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):c[d]=g,c}function N(c){var d=q(c,"string");return typeof d=="symbol"?d:String(d)}function q(c,d){if(typeof c!="object"||c===null)return c;var g=c[Symbol.toPrimitive];if(g!==void 0){var y=g.call(c,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}class h extends o.Component{static getDerivedStateFromProps(d,g){let{position:y}=d,{prevPropsPosition:R}=g;return y&&(!R||y.x!==R.x||y.y!==R.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:R}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(d){super(d),z(this,"onDragStart",(g,y)=>{if((0,m.default)("Draggable: onDragStart: %j",y),this.props.onStart(g,(0,a.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),z(this,"onDrag",(g,y)=>{if(!this.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",y);const R=(0,a.createDraggableData)(this,y),s={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:C}=s;s.x+=this.state.slackX,s.y+=this.state.slackY;const[E,_]=(0,a.getBoundPosition)(this,s.x,s.y);s.x=E,s.y=_,s.slackX=this.state.slackX+(k-s.x),s.slackY=this.state.slackY+(C-s.y),R.x=s.x,R.y=s.y,R.deltaX=s.x-this.state.x,R.deltaY=s.y-this.state.y}if(this.props.onDrag(g,R)===!1)return!1;this.setState(s)}),z(this,"onDragStop",(g,y)=>{if(!this.state.dragging||this.props.onStop(g,(0,a.createDraggableData)(this,y))===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",y);const s={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:C}=this.props.position;s.x=k,s.y=C}this.setState(s)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var d,g;return(d=(g=this.props)===null||g===void 0||(g=g.nodeRef)===null||g===void 0?void 0:g.current)!==null&&d!==void 0?d:e.default.findDOMNode(this)}render(){const{axis:d,bounds:g,children:y,defaultPosition:R,defaultClassName:s,defaultClassNameDragging:u,defaultClassNameDragged:k,position:C,positionOffset:E,scale:_,...j}=this.props;let U={},X=null;const V=!!!C||this.state.dragging,K=C||R,Z={x:(0,a.canDragX)(this)&&V?this.state.x:K.x,y:(0,a.canDragY)(this)&&V?this.state.y:K.y};this.state.isElementSVG?X=(0,n.createSVGTransform)(Z,E):U=(0,n.createCSSTransform)(Z,E);const p=(0,r.default)(y.props.className||"",s,{[u]:this.state.dragging,[k]:this.state.dragged});return o.createElement(x.default,w({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(y),{className:p,style:{...y.props.style,...U},transform:X}))}}i.default=h,z(h,"displayName","Draggable"),z(h,"propTypes",{...x.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),z(h,"defaultProps",{...x.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(ye)),ye}var Ye;function Pt(){if(Ye)return le.exports;Ye=1;const{default:i,DraggableCore:o}=Nt();return le.exports=i,le.exports.default=i,le.exports.DraggableCore=o,le.exports}var Rt=Pt();const Ct=nt(Rt);var H=function(){return H=Object.assign||function(i){for(var o,t=1,e=arguments.length;t<e;t++){o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},H.apply(this,arguments)},Ie={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Ge={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},he={width:"20px",height:"20px",position:"absolute",zIndex:1},_t={top:H(H({},Ie),{top:"-5px"}),right:H(H({},Ge),{left:void 0,right:"-5px"}),bottom:H(H({},Ie),{top:void 0,bottom:"-5px"}),left:H(H({},Ge),{left:"-5px"}),topRight:H(H({},he),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:H(H({},he),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:H(H({},he),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:H(H({},he),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Dt=A.memo(function(i){var o=i.onResizeStart,t=i.direction,e=i.children,r=i.replaceStyles,n=i.className,a=A.useCallback(function(m){o(m,t)},[o,t]),l=A.useCallback(function(m){o(m,t)},[o,t]),x=A.useMemo(function(){return H(H({position:"absolute",userSelect:"none"},_t[t]),r??{})},[r,t]);return v.jsx("div",{className:n||void 0,style:x,onMouseDown:a,onTouchStart:l,children:e})}),Et=function(){var i=function(o,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},i(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),G=function(){return G=Object.assign||function(i){for(var o,t=1,e=arguments.length;t<e;t++){o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},G.apply(this,arguments)},Mt={width:"auto",height:"auto"},fe=function(i,o,t){return Math.max(Math.min(i,t),o)},Ve=function(i,o,t){var e=Math.round(i/o);return e*o+t*(e-1)},oe=function(i,o){return new RegExp(i,"i").test(o)},ge=function(i){return!!(i.touches&&i.touches.length)},Tt=function(i){return!!((i.clientX||i.clientX===0)&&(i.clientY||i.clientY===0))},Qe=function(i,o,t){t===void 0&&(t=0);var e=o.reduce(function(n,a,l){return Math.abs(a-i)<Math.abs(o[n]-i)?l:n},0),r=Math.abs(o[e]-i);return t===0||r<t?o[e]:i},Se=function(i){return i=i.toString(),i==="auto"||i.endsWith("px")||i.endsWith("%")||i.endsWith("vh")||i.endsWith("vw")||i.endsWith("vmax")||i.endsWith("vmin")?i:"".concat(i,"px")},me=function(i,o,t,e){if(i&&typeof i=="string"){if(i.endsWith("px"))return Number(i.replace("px",""));if(i.endsWith("%")){var r=Number(i.replace("%",""))/100;return o*r}if(i.endsWith("vw")){var r=Number(i.replace("vw",""))/100;return t*r}if(i.endsWith("vh")){var r=Number(i.replace("vh",""))/100;return e*r}}return i},Wt=function(i,o,t,e,r,n,a){return e=me(e,i.width,o,t),r=me(r,i.height,o,t),n=me(n,i.width,o,t),a=me(a,i.height,o,t),{maxWidth:typeof e>"u"?void 0:Number(e),maxHeight:typeof r>"u"?void 0:Number(r),minWidth:typeof n>"u"?void 0:Number(n),minHeight:typeof a>"u"?void 0:Number(a)}},jt=function(i){return Array.isArray(i)?i:[i,i]},Ot=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ke="__resizable_base__",At=function(i){Et(o,i);function o(t){var e,r,n,a,l=i.call(this,t)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var x=l.parentNode;if(!x)return null;var m=l.window.document.createElement("div");return m.style.width="100%",m.style.height="100%",m.style.position="absolute",m.style.transform="scale(0, 0)",m.style.left="0",m.style.flex="0 0 100%",m.classList?m.classList.add(Ke):m.className+=Ke,x.appendChild(m),m},l.removeBase=function(x){var m=l.parentNode;m&&m.removeChild(x)},l.state={isResizing:!1,width:(r=(e=l.propsSize)===null||e===void 0?void 0:e.width)!==null&&r!==void 0?r:"auto",height:(a=(n=l.propsSize)===null||n===void 0?void 0:n.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(o.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Mt},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){var t=0,e=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,n=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:r,e=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:n,this.resizable.style.position=a}return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,r=function(l){var x;if(typeof t.state[l]>"u"||t.state[l]==="auto")return"auto";if(t.propsSize&&t.propsSize[l]&&(!((x=t.propsSize[l])===null||x===void 0)&&x.toString().endsWith("%"))){if(t.state[l].toString().endsWith("%"))return t.state[l].toString();var m=t.getParentSize(),b=Number(t.state[l].toString().replace("px","")),f=b/m[l]*100;return"".concat(f,"%")}return Se(t.state[l])},n=e&&typeof e.width<"u"&&!this.state.isResizing?Se(e.width):r("width"),a=e&&typeof e.height<"u"&&!this.state.isResizing?Se(e.height):r("height");return{width:n,height:a}},enumerable:!1,configurable:!0}),o.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var e=!1,r=this.parentNode.style.flexWrap;r!=="wrap"&&(e=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var n={width:t.offsetWidth,height:t.offsetHeight};return e&&(this.parentNode.style.flexWrap=r),this.removeBase(t),n},o.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},o.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},o.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},o.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},o.prototype.createSizeForCssProperty=function(t,e){var r=this.propsSize&&this.propsSize[e];return this.state[e]==="auto"&&this.state.original[e]===t&&(typeof r>"u"||r==="auto")?"auto":t},o.prototype.calculateNewMaxFromBoundary=function(t,e){var r=this.props.boundsByDirection,n=this.state.direction,a=r&&oe("left",n),l=r&&oe("top",n),x,m;if(this.props.bounds==="parent"){var b=this.parentNode;b&&(x=a?this.resizableRight-this.parentLeft:b.offsetWidth+(this.parentLeft-this.resizableLeft),m=l?this.resizableBottom-this.parentTop:b.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(x=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,m=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(x=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),m=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return x&&Number.isFinite(x)&&(t=t&&t<x?t:x),m&&Number.isFinite(m)&&(e=e&&e<m?e:m),{maxWidth:t,maxHeight:e}},o.prototype.calculateNewSizeFromDirection=function(t,e){var r=this.props.scale||1,n=jt(this.props.resizeRatio||1),a=n[0],l=n[1],x=this.state,m=x.direction,b=x.original,f=this.props,S=f.lockAspectRatio,w=f.lockAspectRatioExtraHeight,z=f.lockAspectRatioExtraWidth,N=b.width,q=b.height,h=w||0,c=z||0;return oe("right",m)&&(N=b.width+(t-b.x)*a/r,S&&(q=(N-c)/this.ratio+h)),oe("left",m)&&(N=b.width-(t-b.x)*a/r,S&&(q=(N-c)/this.ratio+h)),oe("bottom",m)&&(q=b.height+(e-b.y)*l/r,S&&(N=(q-h)*this.ratio+c)),oe("top",m)&&(q=b.height-(e-b.y)*l/r,S&&(N=(q-h)*this.ratio+c)),{newWidth:N,newHeight:q}},o.prototype.calculateNewSizeFromAspectRatio=function(t,e,r,n){var a=this.props,l=a.lockAspectRatio,x=a.lockAspectRatioExtraHeight,m=a.lockAspectRatioExtraWidth,b=typeof n.width>"u"?10:n.width,f=typeof r.width>"u"||r.width<0?t:r.width,S=typeof n.height>"u"?10:n.height,w=typeof r.height>"u"||r.height<0?e:r.height,z=x||0,N=m||0;if(l){var q=(S-z)*this.ratio+N,h=(w-z)*this.ratio+N,c=(b-N)/this.ratio+z,d=(f-N)/this.ratio+z,g=Math.max(b,q),y=Math.min(f,h),R=Math.max(S,c),s=Math.min(w,d);t=fe(t,g,y),e=fe(e,R,s)}else t=fe(t,b,f),e=fe(e,S,w);return{newWidth:t,newHeight:e}},o.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var r=e.getBoundingClientRect();this.parentLeft=r.left*t,this.parentTop=r.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left*t,this.targetTop=n.top*t}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,x=a.top,m=a.right,b=a.bottom;this.resizableLeft=l*t,this.resizableRight=m*t,this.resizableTop=x*t,this.resizableBottom=b*t}},o.prototype.onResizeStart=function(t,e){if(!(!this.resizable||!this.window)){var r=0,n=0;if(t.nativeEvent&&Tt(t.nativeEvent)?(r=t.nativeEvent.clientX,n=t.nativeEvent.clientY):t.nativeEvent&&ge(t.nativeEvent)&&(r=t.nativeEvent.touches[0].clientX,n=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(t,e,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,x=this.window.getComputedStyle(this.resizable);if(x.flexBasis!=="auto"){var m=this.parentNode;if(m){var b=this.window.getComputedStyle(m).flexDirection;this.flexDir=b.startsWith("row")?"row":"column",l=x.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:r,y:n,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:G(G({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:e,flexBasis:l};this.setState(f)}},o.prototype.onMouseMove=function(t){var e=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ge(t))try{t.preventDefault(),t.stopPropagation()}catch{}var r=this.props,n=r.maxWidth,a=r.maxHeight,l=r.minWidth,x=r.minHeight,m=ge(t)?t.touches[0].clientX:t.clientX,b=ge(t)?t.touches[0].clientY:t.clientY,f=this.state,S=f.direction,w=f.original,z=f.width,N=f.height,q=this.getParentSize(),h=Wt(q,this.window.innerWidth,this.window.innerHeight,n,a,l,x);n=h.maxWidth,a=h.maxHeight,l=h.minWidth,x=h.minHeight;var c=this.calculateNewSizeFromDirection(m,b),d=c.newHeight,g=c.newWidth,y=this.calculateNewMaxFromBoundary(n,a);this.props.snap&&this.props.snap.x&&(g=Qe(g,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(d=Qe(d,this.props.snap.y,this.props.snapGap));var R=this.calculateNewSizeFromAspectRatio(g,d,{width:y.maxWidth,height:y.maxHeight},{width:l,height:x});if(g=R.newWidth,d=R.newHeight,this.props.grid){var s=Ve(g,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),u=Ve(d,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),k=this.props.snapGap||0,C=k===0||Math.abs(s-g)<=k?s:g,E=k===0||Math.abs(u-d)<=k?u:d;g=C,d=E}var _={width:g-w.width,height:d-w.height};if(this.delta=_,z&&typeof z=="string"){if(z.endsWith("%")){var j=g/q.width*100;g="".concat(j,"%")}else if(z.endsWith("vw")){var U=g/this.window.innerWidth*100;g="".concat(U,"vw")}else if(z.endsWith("vh")){var X=g/this.window.innerHeight*100;g="".concat(X,"vh")}}if(N&&typeof N=="string"){if(N.endsWith("%")){var j=d/q.height*100;d="".concat(j,"%")}else if(N.endsWith("vw")){var U=d/this.window.innerWidth*100;d="".concat(U,"vw")}else if(N.endsWith("vh")){var X=d/this.window.innerHeight*100;d="".concat(X,"vh")}}var $={width:this.createSizeForCssProperty(g,"width"),height:this.createSizeForCssProperty(d,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var V=this.state.width!==$.width,K=this.state.height!==$.height,Z=this.state.flexBasis!==$.flexBasis,p=V||K||Z;p&&et.flushSync(function(){e.setState($)}),this.props.onResize&&p&&this.props.onResize(t,S,this.resizable,_)}},o.prototype.onMouseUp=function(t){var e,r,n=this.state,a=n.isResizing,l=n.direction;n.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,l,this.resizable,this.delta),this.props.size&&this.setState({width:(e=this.props.size.width)!==null&&e!==void 0?e:"auto",height:(r=this.props.size.height)!==null&&r!==void 0?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:G(G({},this.state.backgroundStyle),{cursor:"auto"})}))},o.prototype.updateSize=function(t){var e,r;this.setState({width:(e=t.width)!==null&&e!==void 0?e:"auto",height:(r=t.height)!==null&&r!==void 0?r:"auto"})},o.prototype.renderResizer=function(){var t=this,e=this.props,r=e.enable,n=e.handleStyles,a=e.handleClasses,l=e.handleWrapperStyle,x=e.handleWrapperClass,m=e.handleComponent;if(!r)return null;var b=Object.keys(r).map(function(f){return r[f]!==!1?v.jsx(Dt,{direction:f,onResizeStart:t.onResizeStart,replaceStyles:n&&n[f],className:a&&a[f],children:m&&m[f]?m[f]:null},f):null});return v.jsx("div",{className:x,style:l,children:b})},o.prototype.render=function(){var t=this,e=Object.keys(this.props).reduce(function(a,l){return Ot.indexOf(l)!==-1||(a[l]=t.props[l]),a},{}),r=G(G(G({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var n=this.props.as||"div";return v.jsxs(n,G({style:r,className:this.props.className},e,{ref:function(a){a&&(t.resizable=a)},children:[this.state.isResizing&&v.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},o.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},o}(A.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ke=function(i,o){return ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ke(i,o)};function Ht(i,o){ke(i,o);function t(){this.constructor=i}i.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}var F=function(){return F=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},F.apply(this,arguments)};function Ft(i,o){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&o.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(i);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(i,e[r])&&(t[e[r]]=i[e[r]]);return t}var Lt={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Bt=function(i){return{bottom:i,bottomLeft:i,bottomRight:i,left:i,right:i,top:i,topLeft:i,topRight:i}},Ut=function(i){Ht(o,i);function o(t){var e=i.call(this,t)||this;return e.resizingPosition={x:0,y:0},e.offsetFromParent={left:0,top:0},e.resizableElement={current:null},e.originalPosition={x:0,y:0},e.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},e.onResizeStart=e.onResizeStart.bind(e),e.onResize=e.onResize.bind(e),e.onResizeStop=e.onResizeStop.bind(e),e.onDragStart=e.onDragStart.bind(e),e.onDrag=e.onDrag.bind(e),e.onDragStop=e.onDragStop.bind(e),e.getMaxSizesFromProps=e.getMaxSizesFromProps.bind(e),e}return o.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,r=t.top,n=this.getDraggablePosition(),a=n.x,l=n.y;this.draggable.setState({x:a-e,y:l-r}),this.forceUpdate()},o.prototype.getDraggablePosition=function(){var t=this.draggable.state,e=t.x,r=t.y;return{x:e,y:r}},o.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},o.prototype.getParentSize=function(){return this.resizable.getParentSize()},o.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,e=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:e}},o.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},o.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},o.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},o.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);var r=this.getDraggablePosition();if(this.originalPosition=r,!!this.props.bounds){var n=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=n;else if(this.props.bounds==="body"){var x=n.getBoundingClientRect(),m=x.left,b=x.top,f=document.body.getBoundingClientRect(),S=-(m-n.offsetLeft*a-f.left)/a,w=-(b-n.offsetTop*a-f.top)/a,z=(document.body.offsetWidth-this.resizable.size.width*a)/a+S,N=(document.body.offsetHeight-this.resizable.size.height*a)/a+w;return this.setState({bounds:{top:w,right:z,bottom:N,left:S}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var q=n.getBoundingClientRect(),h=q.left,c=q.top,d=-(h-n.offsetLeft*a)/a,g=-(c-n.offsetTop*a)/a,z=(window.innerWidth-this.resizable.size.width*a)/a+d,N=(window.innerHeight-this.resizable.size.height*a)/a+g;return this.setState({bounds:{top:g,right:z,bottom:N,left:d}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(n instanceof HTMLElement))){var y=l.getBoundingClientRect(),R=y.left,s=y.top,u=n.getBoundingClientRect(),k=u.left,C=u.top,E=(R-k)/a,_=s-C;if(this.resizable){this.updateOffsetFromParent();var j=this.offsetFromParent;this.setState({bounds:{top:_-j.top,right:E+(l.offsetWidth-this.resizable.size.width)-j.left/a,bottom:_+(l.offsetHeight-this.resizable.size.height)-j.top,left:E-j.left/a}})}}}},o.prototype.onDrag=function(t,e){if(this.props.onDrag){var r=this.offsetFromParent,n=r.left,a=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,F(F({},e),{x:e.x+n,y:e.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(t,F(F({},e),{x:e.x+n,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,F(F({},e),{x:this.originalPosition.x+n,y:e.y+a,deltaX:0}))}},o.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var r=this.offsetFromParent,n=r.left,a=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,F(F({},e),{x:e.x+n,y:e.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,F(F({},e),{x:e.x+n,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,F(F({},e),{x:this.originalPosition.x+n,y:e.y+a,deltaX:0}))}},o.prototype.onResizeStart=function(t,e,r){t.stopPropagation(),this.setState({resizing:!0});var n=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var x=this.getParent(),m=void 0;this.props.bounds==="parent"?m=x:this.props.bounds==="body"?m=document.body:this.props.bounds==="window"?m=window:typeof this.props.bounds=="string"?m=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(m=this.props.bounds);var b=this.getSelfElement();if(b instanceof Element&&(m instanceof HTMLElement||m===window)&&x instanceof HTMLElement){var f=this.getMaxSizesFromProps(),S=f.maxWidth,w=f.maxHeight,z=this.getParentSize();if(S&&typeof S=="string")if(S.endsWith("%")){var N=Number(S.replace("%",""))/100;S=z.width*N}else S.endsWith("px")&&(S=Number(S.replace("px","")));if(w&&typeof w=="string")if(w.endsWith("%")){var N=Number(w.replace("%",""))/100;w=z.height*N}else w.endsWith("px")&&(w=Number(w.replace("px","")));var q=b.getBoundingClientRect(),h=q.left,c=q.top,d=this.props.bounds==="window"?{left:0,top:0}:m.getBoundingClientRect(),g=d.left,y=d.top,R=this.getOffsetWidth(m),s=this.getOffsetHeight(m),u=e.toLowerCase().endsWith("left"),k=e.toLowerCase().endsWith("right"),C=e.startsWith("top"),E=e.startsWith("bottom");if((u||C)&&this.resizable){var _=(h-g)/n+this.resizable.size.width;this.setState({maxWidth:_>Number(S)?S:_})}if(k||this.props.lockAspectRatio&&!u&&!C){var _=R+(g-h)/n;this.setState({maxWidth:_>Number(S)?S:_})}if((C||u)&&this.resizable){var _=(c-y)/n+this.resizable.size.height;this.setState({maxHeight:_>Number(w)?w:_})}if(E||this.props.lockAspectRatio&&!C&&!u){var _=s+(y-c)/n;this.setState({maxHeight:_>Number(w)?w:_})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,r)},o.prototype.onResize=function(t,e,r,n){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},x=-n.width,m=-n.height,b=["top","left","topLeft","bottomLeft","topRight"];b.includes(e)&&(e==="bottomLeft"?l.x+=x:(e==="topRight"||(l.x+=x),l.y+=m));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&et.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var S=this.offsetFromParent,w=this.getDraggablePosition().x+S.left,z=this.getDraggablePosition().y+S.top;this.resizingPosition={x:w,y:z},this.props.onResize&&this.props.onResize(t,e,r,n,{x:w,y:z})},o.prototype.onResizeStop=function(t,e,r,n){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,x=a.maxHeight;this.setState({maxWidth:l,maxHeight:x}),this.props.onResizeStop&&this.props.onResizeStop(t,e,r,n,this.resizingPosition)},o.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},o.prototype.updatePosition=function(t){this.draggable.setState(t)},o.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),r=this.getSelfElement();if(!e||r===null)return{top:0,left:0};var n=e.getBoundingClientRect(),a=n.left,l=n.top,x=r.getBoundingClientRect(),m=this.getDraggablePosition(),b=e.scrollLeft,f=e.scrollTop;this.offsetFromParent={left:x.left-a+b-m.x*t,top:x.top-l+f-m.y*t}},o.prototype.render=function(){var t=this,e=this.props,r=e.disableDragging,n=e.style,a=e.dragHandleClassName,l=e.position,x=e.onMouseDown,m=e.onMouseUp,b=e.dragAxis,f=e.dragGrid,S=e.bounds,w=e.enableUserSelectHack,z=e.cancel,N=e.children;e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop;var q=e.resizeHandleStyles,h=e.resizeHandleClasses,c=e.resizeHandleComponent,d=e.enableResizing,g=e.resizeGrid,y=e.resizeHandleWrapperClass,R=e.resizeHandleWrapperStyle,s=e.scale,u=e.allowAnyClick,k=e.dragPositionOffset,C=Ft(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),E=this.props.default?F({},this.props.default):void 0;delete C.default;var _=r||a?{cursor:"auto"}:{cursor:"move"},j=F(F(F({},Lt),_),n),U=this.offsetFromParent,X=U.left,$=U.top,V;l&&(V={x:l.x-X,y:l.y-$});var K=this.state.resizing?void 0:V,Z=this.state.resizing?"both":b;return A.createElement(Ct,{ref:function(p){p&&(t.draggable=p)},handle:a?".".concat(a):void 0,defaultPosition:E,onMouseDown:x,onMouseUp:m,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Z,disabled:r,grid:f,bounds:S?this.state.bounds:void 0,position:K,enableUserSelectHack:w,cancel:z,scale:s,allowAnyClick:u,nodeRef:this.resizableElement,positionOffset:k},A.createElement(At,F({},C,{ref:function(p){p&&(t.resizable=p,t.resizableElement.current=p.resizable)},defaultSize:E,size:this.props.size,enable:typeof d=="boolean"?Bt(d):d,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:j,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:g,handleWrapperClass:y,handleWrapperStyle:R,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:q,handleClasses:h,handleComponent:c,scale:this.props.scale}),N))},o.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},o}(A.PureComponent);function xi({editData:i,auth:o}){const[t,e]=A.useState([]),[r,n]=A.useState(!1),[a,l]=A.useState(!1),[x,m]=A.useState(""),[b,f]=A.useState(.8),[S,w]=A.useState(null),[z,N]=A.useState({width:0,height:0}),[q,h]=A.useState(""),[c,d]=A.useState(null),[g,y]=A.useState(null),R=A.useRef(null);A.useEffect(()=>{if(typeof window<"u"){const p=ue.Quill.import("attributors/style/size"),P=ue.Quill.import("attributors/style/align");p.whitelist=["10px","11px","12px","14px","16px","18px","20px","24px","30px","36px","48px","60px","72px"],ue.Quill.register(p,!0),ue.Quill.register(P,!0),console.log("Quill size and align registered with inline styles")}},[]),A.useEffect(()=>{var p,P,T;if(i){const W=parseFloat(((p=i.width)==null?void 0:p.replace("mm",""))||210),D=parseFloat(((P=i.height)==null?void 0:P.replace("mm",""))||297);N({width:W,height:D});const B=[];if(i.content&&B.push({id:"content",type:"content",x:50,y:150,width:W-100,height:200,fontSize:16,fontFamily:"Arial",color:"#000000",textAlign:"center",text:i.content}),i.logo_image&&B.push({id:"logo",type:"image",src:`/storage/${i.logo_image}`,x:30,y:30,width:80,height:80,alt:"Logo"}),i.signature_image&&B.push({id:"signature",type:"image",src:`/storage/${i.signature_image}`,x:W-110,y:D-100,width:80,height:80,alt:"Signature"}),i.qr_code&&i.qr_image_size){const L=parseInt(i.qr_image_size)||100;B.push({id:"qrCode",type:"qr",text:"{qrCode}",x:W-L-30,y:30,width:L,height:L,backgroundColor:"#f0f0f0",border:"2px dashed #ccc"})}if(i.user_photo_style>0){const L=parseInt(i.user_image_size)||100;B.push({id:"userPhoto",type:"photo",text:"{user_image}",x:300,y:50,width:L,height:L,style:i.user_photo_style})}if((T=i.design)!=null&&T.design_content)try{const L=JSON.parse(i.design.design_content);Array.isArray(L)&&L.length>0?e(L):e(B)}catch(L){console.error("Error parsing saved design:",L),e(B)}else e(B)}},[i==null?void 0:i.id]);const s={toolbar:[[{font:[]}],[{size:["10px","11px","12px","14px","16px","18px","20px","24px","30px","36px","48px","60px","72px"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["clean"]]},u=["font","size","bold","italic","underline","strike","color","background","align","list","bullet"],k=p=>{w(p);const P=t.find(T=>T.id===p);P&&(P.type==="content"||P.type==="text")?(d(P),h(P.text||"")):(d(null),h(""))},C=(p,P)=>{e(T=>T.map(W=>W.id===p?{...W,text:P}:W)),S===p&&h(P)},E=p=>{if(h(p),c){console.log("=== Editor content changed ==="),console.log("Raw content:",p);const P=document.createElement("div");P.innerHTML=p,console.log("Parsed DOM:",P.innerHTML);const T=P.querySelectorAll("*"),W=[];if(T.forEach((M,Q)=>{if(!M)return;console.log(`Node ${Q}:`,M.tagName,"classes:",Array.from(M.classList||[]),"style:",M.style.cssText);let re=null;if(M.style&&M.style.fontSize&&(re=M.style.fontSize,console.log("Found inline fontSize:",re)),!re&&M.classList&&M.classList.length&&M.classList.forEach(se=>{console.log("Checking class:",se);const Pe=se.match(/^ql-size-(\d+)px$/);Pe&&(re=Pe[1]+"px",console.log("Found size class:",se,"extracted:",re))}),re){const se=parseFloat(re);isNaN(se)||(W.push(se),console.log("Added font size:",se))}}),console.log("All found font sizes:",W),P.firstElementChild&&P.firstElementChild.style.fontSize){const M=parseFloat(P.firstElementChild.style.fontSize);!isNaN(M)&&!W.includes(M)&&(W.push(M),console.log("Added root font size:",M))}const D=P.querySelector("p, span, div")||P.firstElementChild;let B=null,L=null,Y=null;D&&(D.style&&D.style.fontFamily&&(B=D.style.fontFamily.replace(/['"]/g,"")),D.style&&D.style.color&&(L=D.style.color),D.style&&D.style.textAlign&&(Y=D.style.textAlign),!Y&&D.classList&&(D.classList.contains("ql-align-center")?Y="center":D.classList.contains("ql-align-right")?Y="right":D.classList.contains("ql-align-justify")?Y="justify":D.classList.contains("ql-align-left")&&(Y="left")));const ce=W.length?Math.max(...W):c.fontSize||16;console.log("Chosen font size:",ce);const J={};ce&&ce!==(c.fontSize||16)&&(J.fontSize=ce),B&&(J.fontFamily=B),L&&(J.color=L),Y&&(J.textAlign=Y),console.log("New styles to apply:",J),console.log("Current element fontSize:",c.fontSize);const ne=P.innerHTML;console.log("Content with styles preserved:",ne),Object.keys(J).length>0?(console.log("Updating elements with new styles..."),e(M=>M.map(Q=>Q.id===c.id?{...Q,text:ne,...J}:Q)),d(M=>M&&{...M,text:ne,...J})):(console.log("No style changes detected, only updating text content"),e(M=>M.map(Q=>Q.id===c.id?{...Q,text:ne}:Q)),d(M=>M&&{...M,text:ne}))}},_=(p,P)=>{console.log(`Dragging ${p} to position:`,P),e(T=>{const W=T.map(D=>D.id===p?{...D,x:P.x,y:P.y}:D);return console.log("Updated elements:",W),W})},j=(p,P,T)=>{e(W=>W.map(D=>D.id===p?{...D,width:P.offsetWidth,height:P.offsetHeight,x:T.x,y:T.y}:D))},U=async()=>{var p,P;if(i!=null&&i.id){n(!0);try{const T=await ve.post(route("admin.certificate.templates.design.update"),{template_id:i.id,design_content:JSON.stringify(t)});ae.success("Design saved successfully")}catch(T){ae.error("Failed to save design: "+(((P=(p=T.response)==null?void 0:p.data)==null?void 0:P.message)||T.message))}finally{n(!1)}}},X=async()=>{if(i!=null&&i.id&&window.confirm("Are you sure you want to reset the design?"))try{(await ve.post(route("admin.certificate.templates.design.reset",i.id))).data.status==="success"&&(Re.reload(),ae.success("Design reset successfully"))}catch{ae.error("Failed to reset design")}},$=async()=>{if(i!=null&&i.id)try{const p=await ve.post(route("admin.certificate.templates.preview"),{template:i.id,design_content:V()});p.data.status==="success"&&(m(p.data.data),l(!0))}catch{ae.error("Failed to preview design")}},V=()=>t.map(p=>{const P=`position:absolute;left:${p.x}px;top:${p.y}px;width:${p.width}px;height:${p.height}px;`;return p.type==="image"?`<img src="${p.src}" style="${P}"/>`:p.type==="qr"||p.type==="photo"?`<div style="${P}">${p.text}</div>`:p.type==="content"||p.type==="text"?`<div style="${`${P}font-size:${p.fontSize||16}px;font-family:${p.fontFamily||"Arial"};color:${p.color||"#000000"};text-align:${p.textAlign||"center"};padding:8px;`}">${p.text}</div>`:`<div style="${P}">${p.text}</div>`}).join(""),K=p=>{f(p)},Z=(p,P)=>{const T=Y=>Y*3.7795,W=window.innerWidth*.9,D=window.innerHeight*.8,B=T(p),L=T(P);return Math.min(W/B,D/L,1)};return v.jsxs(at,{user:o==null?void 0:o.user,children:[v.jsx("style",{children:`
        .sidebar-quill .ql-toolbar {
          border: 1px solid #d1d5db;
          border-radius: 6px 6px 0 0;
          padding: 4px 8px;
          font-size: 12px;
        }
        .sidebar-quill .ql-container {
          border: 1px solid #d1d5db;
          border-top: none;
          border-radius: 0 0 6px 6px;
          font-size: 12px;
          height: 150px;
          padding: 4px;
        }
        .sidebar-quill .ql-editor {
          min-height: 110px;
          font-size: 12px;
          padding: 12px;
          margin: 2px;
          background-color: #ffffff;
          border-radius: 4px;
        }
        .sidebar-quill .ql-toolbar button {
          width: 24px;
          height: 24px;
          padding: 2px;
        }
        .sidebar-quill .ql-toolbar .ql-picker-label {
          padding: 2px 4px;
          font-size: 11px;
        }
        .ql-size-10px { font-size: 10px; }
        .ql-size-11px { font-size: 11px; }
        .ql-size-12px { font-size: 12px; }
        .ql-size-14px { font-size: 14px; }
        .ql-size-16px { font-size: 16px; }
        .ql-size-18px { font-size: 18px; }
        .ql-size-20px { font-size: 20px; }
        .ql-size-24px { font-size: 24px; }
        .ql-size-30px { font-size: 30px; }
        .ql-size-36px { font-size: 36px; }
        .ql-size-48px { font-size: 48px; }
        .ql-size-60px { font-size: 60px; }
        .ql-size-72px { font-size: 72px; }
        
        /* Size picker dropdown styling - show sizes as "12px", "14px", etc. */
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item::before {
          content: attr(data-value) !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="10px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="10px"]::before {
          content: '10px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="11px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="11px"]::before {
          content: '11px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="12px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="12px"]::before {
          content: '12px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="14px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="14px"]::before {
          content: '14px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="16px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="16px"]::before {
          content: '16px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="18px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="18px"]::before {
          content: '18px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="20px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="20px"]::before {
          content: '20px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="24px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="24px"]::before {
          content: '24px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="30px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="30px"]::before {
          content: '30px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="36px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="36px"]::before {
          content: '36px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="48px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="48px"]::before {
          content: '48px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="60px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="60px"]::before {
          content: '60px' !important;
        }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="72px"]::before,
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="72px"]::before {
          content: '72px' !important;
        }
        
        /* Apply actual font sizes to picker items */
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="10px"]::before { font-size: 10px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="11px"]::before { font-size: 11px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="12px"]::before { font-size: 12px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="14px"]::before { font-size: 14px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="16px"]::before { font-size: 16px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="18px"]::before { font-size: 18px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="20px"]::before { font-size: 20px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="24px"]::before { font-size: 24px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="30px"]::before { font-size: 30px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="36px"]::before { font-size: 36px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="48px"]::before { font-size: 48px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="60px"]::before { font-size: 60px; }
        .sidebar-quill .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="72px"]::before { font-size: 72px; }
        
        /* Size classes for content */
        .ql-snow .ql-size-10px { font-size: 10px; }
        .ql-snow .ql-size-11px { font-size: 11px; }
        .ql-snow .ql-size-12px { font-size: 12px; }
        .ql-snow .ql-size-14px { font-size: 14px; }
        .ql-snow .ql-size-16px { font-size: 16px; }
        .ql-snow .ql-size-18px { font-size: 18px; }
        .ql-snow .ql-size-20px { font-size: 20px; }
        .ql-snow .ql-size-24px { font-size: 24px; }
        .ql-snow .ql-size-30px { font-size: 30px; }
        .ql-snow .ql-size-36px { font-size: 36px; }
        .ql-snow .ql-size-48px { font-size: 48px; }
        .ql-snow .ql-size-60px { font-size: 60px; }
        .ql-snow .ql-size-72px { font-size: 72px; }

        /* Bubble theme size picker styling */
        .ql-bubble .ql-picker.ql-size .ql-picker-label::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item::before {
          content: attr(data-value) !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="10px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="10px"]::before {
          content: '10px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="11px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="11px"]::before {
          content: '11px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="12px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="12px"]::before {
          content: '12px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="14px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="14px"]::before {
          content: '14px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="16px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="16px"]::before {
          content: '16px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="18px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="18px"]::before {
          content: '18px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="20px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="20px"]::before {
          content: '20px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="24px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="24px"]::before {
          content: '24px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="30px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="30px"]::before {
          content: '30px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="36px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="36px"]::before {
          content: '36px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="48px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="48px"]::before {
          content: '48px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="60px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="60px"]::before {
          content: '60px' !important;
        }
        .ql-bubble .ql-picker.ql-size .ql-picker-label[data-value="72px"]::before,
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="72px"]::before {
          content: '72px' !important;
        }

        /* Apply actual font sizes to bubble picker items */
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="10px"]::before { font-size: 10px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="11px"]::before { font-size: 11px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="12px"]::before { font-size: 12px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="14px"]::before { font-size: 14px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="16px"]::before { font-size: 16px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="18px"]::before { font-size: 18px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="20px"]::before { font-size: 20px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="24px"]::before { font-size: 24px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="30px"]::before { font-size: 30px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="36px"]::before { font-size: 36px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="48px"]::before { font-size: 48px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="60px"]::before { font-size: 60px; }
        .ql-bubble .ql-picker.ql-size .ql-picker-item[data-value="72px"]::before { font-size: 72px; }
      `}),v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>Re.visit(route("admin.certificate.templates.index")),children:[v.jsx(lt,{className:"w-4 h-4 mr-1"}),"Back to Templates"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Certificate Designer"}),v.jsx("p",{className:"text-sm text-gray-500",children:(i==null?void 0:i.name)||"Untitled Template"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs(ee,{onClick:()=>{const p={id:`text-${Date.now()}`,type:"text",text:"New Text",x:100,y:100,width:200,height:50,fontSize:16,fontFamily:"Arial",color:"#000000",textAlign:"center",backgroundColor:"transparent"};e([...t,p]),w(p.id),d(p),h(p.text)},variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[v.jsx(Te,{className:"w-4 h-4 mr-2"}),"Add Text"]}),v.jsxs(ee,{onClick:X,variant:"outline",size:"sm",children:[v.jsx(xt,{className:"w-4 h-4"}),"Reset"]}),v.jsxs(ee,{onClick:$,variant:"outline",size:"sm",children:[v.jsx(pt,{className:"w-4 h-4"}),"Preview"]}),v.jsxs(ee,{onClick:U,disabled:r,size:"sm",children:[v.jsx(ct,{className:"w-4 h-4"}),r?"Saving...":"Save Design"]})]})]})}),v.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[v.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[v.jsxs(_e,{children:[v.jsx(De,{className:"pb-3",children:v.jsx(Ee,{className:"text-sm font-medium",children:"Design Tools"})}),v.jsxs(Me,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Zoom Level"}),v.jsx("div",{className:"grid grid-cols-3 gap-1",children:[.5,.75,1].map(p=>v.jsxs(ee,{onClick:()=>K(p),variant:b===p?"default":"outline",size:"sm",className:"text-xs",children:[Math.round(p*100),"%"]},p))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Canvas Size"}),v.jsxs("div",{className:"text-xs text-gray-600",children:[z.width,"  ",z.height," mm"]})]})]})]}),v.jsxs(_e,{className:"mt-4",children:[v.jsx(De,{className:"pb-3",children:v.jsx(Ee,{className:"text-sm font-medium",children:"Text Editor"})}),v.jsx(Me,{className:"space-y-4",children:c?v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Edit Text Content"}),v.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Selected: ",c.id]}),v.jsx("div",{className:"sidebar-quill",children:v.jsx(Ce,{theme:"snow",value:q,onChange:E,modules:s,formats:u,placeholder:"Enter text content...",style:{height:"150px"}})})]}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx(Te,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Select a text element to edit its content"})]})})]})]}),v.jsx("div",{className:"flex-1 bg-gray-100 p-8 overflow-auto",onClick:()=>{y(null),w(null),d(null)},children:v.jsx("div",{className:"flex items-center justify-center min-h-full",children:v.jsxs("div",{ref:R,className:"relative bg-white shadow-2xl border border-gray-300",style:{width:`${z.width*b}mm`,height:`${z.height*b}mm`,minWidth:"400px",minHeight:"300px"},onClick:p=>{p.stopPropagation(),y(null),w(null),d(null)},children:[(i==null?void 0:i.background_image)&&v.jsx("img",{src:`/storage/${i.background_image}`,alt:"Certificate Background",className:"absolute top-0 left-0 w-full h-full object-cover z-0",style:{pointerEvents:"none"}}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-10",children:t.map(p=>v.jsx(Ut,{default:{x:p.x*b,y:p.y*b,width:p.width*b,height:p.height*b},onDragStop:(P,T)=>_(p.id,{x:T.x/b,y:T.y/b}),onResizeStop:(P,T,W,D,B)=>{j(p.id,W,{x:B.x/b,y:B.y/b})},bounds:"parent",enableResizing:g!==p.id&&p.type!=="qr"&&p.type!=="photo",cancel:".no-drag",onClick:P=>{P.stopPropagation(),k(p.id)},onDoubleClick:P=>{P.stopPropagation(),(p.type==="content"||p.type==="text")&&y(p.id)},children:v.jsxs("div",{className:`
                        w-full h-full border-2 transition-all duration-200 relative group
                        ${S===p.id?"border-blue-500 shadow-lg":"border-gray-300 hover:border-gray-400"}
                        ${p.type==="photo"&&p.style===1?"rounded-full overflow-hidden":"rounded"}
                        ${p.type==="qr"||p.type==="photo"?"bg-gray-50":"bg-white/90"}
                        ${g===p.id?"z-50 cursor-text":"cursor-move"}
                      `,style:{backgroundColor:p.backgroundColor||(p.type==="content"?"transparent":"#f9f9f9"),border:p.border||void 0},children:[(S===p.id||g===p.id)&&v.jsx("div",{className:"absolute -top-3 -right-3 bg-blue-500 text-white rounded-full p-1 cursor-move shadow-sm z-50 hover:bg-blue-600 transition-colors",title:"Drag to move",children:v.jsx(ft,{className:"w-3 h-3"})}),p.type==="image"?v.jsx("img",{src:p.src,alt:p.alt||p.id,className:"w-full h-full object-contain"}):p.type==="content"||p.type==="text"?g===p.id?v.jsx("div",{className:"no-drag h-full",children:v.jsx(Ce,{theme:"bubble",value:p.text,onChange:P=>C(p.id,P),modules:{toolbar:[[{font:[]}],[{size:["10px","11px","12px","14px","16px","18px","20px","24px","30px","36px","48px","60px","72px"]}],["bold","italic","underline"],[{align:[]}],[{color:[]}]]},style:{height:"100%",fontFamily:p.fontFamily||"Arial"}})}):v.jsx("div",{className:"w-full h-full p-2 overflow-hidden",style:{fontSize:`${(p.fontSize||16)*b}px`,fontFamily:p.fontFamily||"Arial",color:p.color||"#000000",textAlign:p.textAlign||"center",lineHeight:1.2},dangerouslySetInnerHTML:{__html:p.text}}):v.jsxs("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm",children:[p.type==="qr"&&v.jsx(mt,{className:"w-6 h-6 mb-1"}),p.type==="photo"&&v.jsx(ut,{className:"w-6 h-6 mb-1"}),v.jsx("div",{className:"text-center",children:p.text})]})]})},`${p.id}-${p.x}-${p.y}`))})]})})}),a&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-auto max-h-[90vh] overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Certificate Preview"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs(ee,{onClick:()=>{const p=document.createElement("a"),P=new Blob([x],{type:"text/html"});p.href=URL.createObjectURL(P),p.download=`${(i==null?void 0:i.name)||"certificate"}-preview.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},variant:"outline",size:"sm",children:[v.jsx(dt,{className:"w-4 h-4 mr-2"}),"Download"]}),v.jsx(ee,{onClick:()=>l(!1),variant:"outline",size:"sm",children:"Close"})]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden p-4",children:v.jsx("div",{className:"relative bg-white border border-gray-300 shadow-md",style:{width:"297mm",height:"210mm",transform:`scale(${Z(297,210)})`,transformOrigin:"center center"},children:v.jsx("div",{className:"w-full h-full",dangerouslySetInnerHTML:{__html:x}})})})]})})]})]})]})}export{xi as default};
