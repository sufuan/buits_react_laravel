import{r as o,j as e,Q as E,t as x,S as P}from"./app-DznKR-RH.js";import{A as B}from"./AdminAuthenticatedLayout-BqHN91G8.js";import{B as r}from"./button-DRQdrNcK.js";import{C as h,a as g,b as v,d as p,c as M}from"./card-DAEBHHM8.js";import{B as j}from"./badge-v2gUPZ8Y.js";import{A as z,a as G,b as V}from"./avatar-9qM8imVU.js";import{I as Q}from"./input-BX6kp7dF.js";import{S as u,a as w,b as y,c as S,d as m}from"./select-uHJOdeqB.js";import{S as f}from"./breadcrumb-Eff1sBTK.js";import{F as R}from"./funnel-BgZIGZDh.js";import{S as q}from"./search-p1jDQ_tA.js";import{U as H}from"./index-bN0xwt_Y.js";import{M as J}from"./mail-DofOSO6K.js";import{I as K}from"./id-card-BI5Hu8IA.js";import{E as O}from"./eye-BWRo9Vjh.js";import{S as W}from"./square-pen-De33ZSTr.js";import{P as X}from"./phone-BQdmTVyE.js";import{G as Y}from"./graduation-cap-D80NGcMg.js";import{C as Z}from"./calendar-DSmW-SUr.js";import{M as b}from"./map-pin-YQAO0HTo.js";import{F as $}from"./file-spreadsheet-V-hbbKQj.js";import{D as ee}from"./download-Vk8ONl1Z.js";import{U as se}from"./upload-CahgRjzT.js";import{U as ae}from"./user-plus-CMKR_xUt.js";import"./index-jvRDJZka.js";import"./index-CBPq01K7.js";import"./index-nhT44rb-.js";import"./clsx-B-dksMZM.js";import"./index-f-QwbMa2.js";import"./chevron-right-B3c9TSuG.js";import"./createLucideIcon-Cg9N0Kwb.js";import"./award-C4Uu_MW1.js";import"./index-9NH88vSt.js";import"./index-BdQq_4o_.js";import"./index-CWPDkdE8.js";import"./index-D6V3iGIb.js";import"./index-BgQ2oMZX.js";function Ge({users:n}){const[a,C]=o.useState(""),[l,_]=o.useState("all"),[i,F]=o.useState("all"),U=[...new Set(n.map(s=>s.department))].sort(),A=[...new Set(n.map(s=>s.session))].sort(),d=n.filter(s=>{var N;const t=s.name.toLowerCase().includes(a.toLowerCase())||s.email.toLowerCase().includes(a.toLowerCase())||((N=s.member_id)==null?void 0:N.toLowerCase().includes(a.toLowerCase())),c=l==="all"||s.department===l,k=i==="all"||s.session===i;return t&&c&&k}),D=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=()=>{window.location.href=route("admin.users.export")},L=s=>{const t=s.target.files[0];if(t){const c=new FormData;c.append("file",t),P.post(route("admin.users.import"),c,{onSuccess:()=>{s.target.value=""}})}},T=()=>{window.location.href=route("admin.users.template")};return e.jsxs(B,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"All Users"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(r,{onClick:T,variant:"outline",className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"Template"]}),e.jsxs(r,{onClick:I,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Export"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:L,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Import"]})]}),e.jsx(x,{href:"/admin/users/create",children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Add User"]})}),e.jsxs(j,{variant:"secondary",className:"text-sm",children:[d.length," of ",n.length," Users"]})]})]}),children:[e.jsx(E,{title:"All Users"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs(h,{className:"mb-6",children:[e.jsx(g,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search by name, email, or member ID...",value:a,onChange:s=>C(s.target.value),className:"pl-10"})]}),e.jsxs(u,{value:l,onValueChange:_,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Filter by department"})}),e.jsxs(S,{children:[e.jsx(m,{value:"all",children:"All Departments"}),U.map(s=>e.jsx(m,{value:s,children:s},s))]})]}),e.jsxs(u,{value:i,onValueChange:F,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Filter by session"})}),e.jsxs(S,{children:[e.jsx(m,{value:"all",children:"All Sessions"}),A.map(s=>e.jsx(m,{value:s,children:s},s))]})]})]})})]}),d.length===0?e.jsx(h,{children:e.jsxs(p,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(H,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a||l!=="all"||i!=="all"?"No users found":"No users yet"}),e.jsx("p",{className:"text-gray-500 text-center",children:a||l!=="all"||i!=="all"?"Try adjusting your search criteria.":"Users will appear here once they are approved."})]})}):e.jsx("div",{className:"grid gap-6",children:d.map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(g,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(z,{className:"h-12 w-12",children:[e.jsx(G,{src:s.image,alt:s.name}),e.jsx(V,{children:s.name.split(" ").map(t=>t[0]).join("").toUpperCase()})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-lg",children:s.name}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),s.email]}),s.member_id&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(K,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-mono text-blue-600",children:s.member_id})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(x,{href:route("admin.users.show",s.id),children:e.jsx(r,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsx(x,{href:route("admin.users.edit",s.id),children:e.jsx(r,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(W,{className:"h-4 w-4"})})})]}),e.jsxs(j,{variant:"outline",className:"text-xs mb-2",children:["Joined ",D(s.created_at)]}),e.jsx(j,{variant:"secondary",className:"block text-xs",children:s.usertype||"User"})]})]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.department})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Session: ",s.session]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Roll:"}),e.jsx("span",{children:s.class_roll})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Gender:"}),e.jsx("span",{className:"capitalize",children:s.gender})]}),s.blood_group&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Blood:"}),e.jsx("span",{children:s.blood_group})]})]}),s.skills&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Skills:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.skills})]})]}),(s.current_address||s.permanent_address)&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.current_address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Current Address:"}),e.jsx("p",{className:"text-gray-600",children:s.current_address})]})]}),s.permanent_address&&s.permanent_address!==s.current_address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Permanent Address:"}),e.jsx("p",{className:"text-gray-600",children:s.permanent_address})]})]})]})]}),s.transaction_id&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Transaction ID: ",s.transaction_id]})]})]})]},s.id))})]})})]})}export{Ge as default};
