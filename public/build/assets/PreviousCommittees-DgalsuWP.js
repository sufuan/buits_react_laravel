import{r as x,j as e,Q as g}from"./app-fd2VT9K7.js";import{A as f}from"./AdminAuthenticatedLayout-DB_RmCzq.js";import{F as i,a as o}from"./UsersIcon-B6vWKvTR.js";import"./badge-5nAudG3l.js";import"./index-BdEYMS3f.js";import"./clsx-B-dksMZM.js";import"./index-D3idDGDS.js";import"./createLucideIcon-nD1hunmh.js";import"./index-CtpiyIec.js";import"./index-DyYRsGuX.js";import"./index-Coz_ut4W.js";import"./breadcrumb-BQE-rAoW.js";import"./button-sA8IPVJW.js";import"./input-DAAPilkw.js";import"./index-YQc7jseB.js";import"./index-D9LhknG_.js";import"./chevron-right-D2nggZNe.js";import"./avatar-B2tfOXM_.js";import"./calendar-4Pc-Hcjc.js";import"./award-CcbOiPCY.js";import"./index-CWpXVZvi.js";function O({auth:h,previousCommittees:l=[]}){const[r,j]=x.useState(null),[a,u]=x.useState(""),c=l.filter(s=>!a||s.committee_number.includes(a)),n=()=>{if(!l||l.length===0)return[];const s=new Set;return l.forEach(t=>{var m;const d=(m=t.committee_number)==null?void 0:m.split("-")[0];d&&s.add(d)}),Array.from(s).sort((t,d)=>d-t)};return e.jsxs(f,{user:h.user,children:[e.jsx(g,{title:"Previous Committees"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Previous Committees"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Historical record of committee members â€¢ ",(l==null?void 0:l.length)||0," committees total"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Year"}),e.jsxs("select",{value:a,onChange:s=>u(s.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Years"}),n().map(s=>e.jsx("option",{value:s,children:s},s))]})]})})]}),c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400",children:e.jsx(i,{className:"mx-auto h-12 w-12"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No committees found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a?`No committees found for year ${a}`:"No previous committees available."})]}):e.jsx("div",{className:"space-y-6",children:c.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Committee ",s.committee_number]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(o,{className:"w-4 h-4 mr-1"}),s.member_count," members"]})]})]}),e.jsx("button",{onClick:()=>j(r===s.committee_number?null:s.committee_number),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r===s.committee_number?"Hide Members":"View Members"})]}),r===s.committee_number&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(s.members||[]).map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:t.photo?e.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:`/storage/${t.photo}`,alt:t.name}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.name.charAt(0)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:t.designation}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Order: ",t.member_order]})]})]})},t.id))})}),r!==s.committee_number&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.members||[]).slice(0,6).map(t=>e.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-full px-3 py-1 text-xs",children:[t.photo?e.jsx("img",{className:"h-6 w-6 rounded-full object-cover",src:`/storage/${t.photo}`,alt:t.name}):e.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-700",children:t.name.charAt(0)})}),e.jsx("span",{className:"font-medium text-gray-900",children:t.name}),e.jsx("span",{className:"text-gray-500",children:t.designation})]},t.id)),s.member_count>6&&e.jsxs("div",{className:"flex items-center justify-center bg-gray-100 rounded-full px-3 py-1 text-xs text-gray-600",children:["+",s.member_count-6," more"]})]})})]},s.committee_number))})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(i,{className:"h-8 w-8 text-blue-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Committees"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.length)||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(o,{className:"h-8 w-8 text-green-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Past Members"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l||[]).reduce((s,t)=>s+(t.member_count||0),0)})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(i,{className:"h-8 w-8 text-purple-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Years of History"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n().length})]})})]})})})]})]})})]})}export{O as default};
