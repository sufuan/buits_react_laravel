import{r as y,x as J,j as e,Q as K,t as B}from"./app-ur8gLKMw.js";import{A as X}from"./AdminAuthenticatedLayout-UIYhMvKq.js";import{B as b}from"./button-ChUzZ8zb.js";import{C as o,a as u,b as g,c as f,d as m}from"./card-BZlpZjXg.js";import{I as d}from"./input-ULwqptrg.js";import{L as l}from"./label-ZK0uxj3h.js";import{T as _}from"./textarea-DAtguG9r.js";import{S as h,a as x,b as p,c as j,d as i}from"./select-DGUS3pid.js";import"./breadcrumb-hlfmIue3.js";import{A as Y,a as ee}from"./alert-Z7vwZjXY.js";import{C}from"./circle-alert-_J_7w51H.js";import{U as se}from"./user-ORuDK3Kd.js";import{M as ae}from"./mail-DUYvBXE2.js";import{C as S}from"./circle-check-big-G63F0aIC.js";import{L as M,E as U}from"./lock-C05fU5MX.js";import{E as I}from"./eye-BtlcPbKd.js";import{P as te}from"./phone-oLYUGxoe.js";import{G as re}from"./graduation-cap-CWvdp9JC.js";import{C as le}from"./calendar-46kMZv84.js";import{M as ne}from"./map-pin-C7bASz65.js";import{U as ie}from"./user-plus-CVcj5EBW.js";import{A as de}from"./arrow-left-D7SHs4Xc.js";import"./badge-rf3gfiDh.js";import"./index-CkuwFcTu.js";import"./clsx-B-dksMZM.js";import"./index-BA6J_WX0.js";import"./createLucideIcon-DyPvElEa.js";import"./index-BWAIAPHE.js";import"./index-BwxDyt-w.js";import"./index-D7P83s25.js";import"./chevron-right-BdTzXGzL.js";import"./avatar-BCaHodwN.js";import"./award-BrO-inEt.js";import"./index-Bp2sKc1x.js";import"./index-BdQq_4o_.js";import"./index-K7ErFWWW.js";import"./index-8qH9zaOg.js";import"./index-oJ4mOwLq.js";function Qe({errors:a}){const[N,L]=y.useState(!1),[v,V]=y.useState(!1),[w,D]=y.useState(0),{data:t,setData:G,post:O,processing:F,reset:$,clearErrors:T}=J({name:"",email:"",password:"",password_confirmation:"",phone:"",department:"",session:"",gender:"",date_of_birth:"",blood_group:"",class_roll:"",father_name:"",mother_name:"",current_address:"",permanent_address:"",skills:"",usertype:"user"}),z=["Marketing","Law","Mathematics","Physics","History & Civilization","Soil & Environmental Sciences","Economics","Geology & Mining","Management Studies","Statistics","Chemistry","Coastal Studies and Disaster Management","Accounting & Information Systems","Computer Science and Engineering","Sociology","Botany","Public Administration","Philosophy","Political Science","Biochemistry and Biotechnology","Finance and Banking","Mass Communication and Journalism","English","Bangla"],R=["2020-2021","2021-2022","2022-2023","2023-2024","2024-2025","2025-2026"],q=["A+","A-","B+","B-","AB+","AB-","O+","O-"],H=s=>{let n=0;return s.length>=8&&n++,s.match(/[a-z]/)&&n++,s.match(/[A-Z]/)&&n++,s.match(/[0-9]/)&&n++,s.match(/[^a-zA-Z0-9]/)&&n++,n},Q=s=>{switch(s){case 0:case 1:return"bg-red-500";case 2:return"bg-orange-500";case 3:return"bg-yellow-500";case 4:return"bg-blue-500";case 5:return"bg-green-500";default:return"bg-gray-200"}},W=s=>{switch(s){case 0:case 1:return"Very Weak";case 2:return"Weak";case 3:return"Fair";case 4:return"Good";case 5:return"Strong";default:return""}},E=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),Z=s=>{s.preventDefault();const A=["name","email","password","password_confirmation","phone","department","session","gender"].filter(c=>!t[c]);if(A.length>0){const c=document.getElementById(A[0]);c&&c.focus();return}if(t.password!==t.password_confirmation){document.getElementById("password_confirmation").focus();return}O(route("admin.users.store"),{onSuccess:()=>{$()},onError:c=>{const P=Object.keys(c)[0];if(P){const k=document.getElementById(P);k&&k.focus()}}})},r=(s,n)=>{G(s,n),s==="password"&&D(H(n)),a[s]&&T(s)};return e.jsxs(X,{header:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(B,{href:"/admin/users/all",children:e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add New User"})]})}),children:[e.jsx(K,{title:"Add User"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[Object.keys(a).length>0&&e.jsxs(Y,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(C,{className:"h-4 w-4 text-red-600"}),e.jsxs(ee,{className:"text-red-800",children:["Please fix the following errors:",e.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:Object.values(a).map((s,n)=>e.jsx("li",{className:"text-sm",children:s},n))})]})]}),e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),e.jsx(f,{children:"Enter the basic details for the new user"})]}),e.jsx(m,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name *"}),e.jsx(d,{id:"name",type:"text",value:t.name,onChange:s=>r("name",s.target.value),className:a.name?"border-red-500":"",placeholder:"Enter full name"}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"email",type:"email",value:t.email,onChange:s=>r("email",s.target.value),className:`pl-10 pr-10 ${a.email?"border-red-500":t.email&&E(t.email)?"border-green-500":""}`,placeholder:"Enter email address"}),t.email&&e.jsx("div",{className:"absolute right-3 top-3",children:E(t.email)?e.jsx(S,{className:"h-4 w-4 text-green-600"}):e.jsx(C,{className:"h-4 w-4 text-red-600"})})]}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"password",type:N?"text":"password",value:t.password,onChange:s=>r("password",s.target.value),className:`pl-10 pr-10 ${a.password?"border-red-500":""}`,placeholder:"Enter password"}),e.jsx("button",{type:"button",onClick:()=>L(!N),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:N?e.jsx(U,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]}),t.password&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Q(w)}`,style:{width:`${w/5*100}%`}})}),e.jsx("span",{className:"text-xs text-gray-600",children:W(w)})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Use 8+ characters with mix of letters, numbers & symbols"})]}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"password_confirmation",type:v?"text":"password",value:t.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),className:`pl-10 pr-10 ${a.password_confirmation?"border-red-500":t.password_confirmation&&t.password&&t.password_confirmation===t.password?"border-green-500":""}`,placeholder:"Confirm password"}),e.jsx("button",{type:"button",onClick:()=>V(!v),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:v?e.jsx(U,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]}),t.password_confirmation&&t.password&&e.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.password_confirmation===t.password?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-red-600",children:"Passwords do not match"})]})}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-600",children:a.password_confirmation})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"phone",type:"tel",value:t.phone,onChange:s=>r("phone",s.target.value),className:`pl-10 ${a.phone?"border-red-500":""}`,placeholder:"Enter phone number"})]}),a.phone&&e.jsx("p",{className:"text-sm text-red-600",children:a.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"gender",children:"Gender *"}),e.jsxs(h,{value:t.gender,onValueChange:s=>r("gender",s),children:[e.jsx(x,{className:a.gender?"border-red-500":"",children:e.jsx(p,{placeholder:"Select gender"})}),e.jsxs(j,{children:[e.jsx(i,{value:"male",children:"Male"}),e.jsx(i,{value:"female",children:"Female"}),e.jsx(i,{value:"other",children:"Other"})]})]}),a.gender&&e.jsx("p",{className:"text-sm text-red-600",children:a.gender})]})]})})]}),e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5 text-green-600"}),"Academic Information"]}),e.jsx(f,{children:"Enter academic details for the user"})]}),e.jsx(m,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"department",children:"Department *"}),e.jsxs(h,{value:t.department,onValueChange:s=>r("department",s),children:[e.jsx(x,{className:a.department?"border-red-500":"",children:e.jsx(p,{placeholder:"Select department"})}),e.jsx(j,{children:z.map(s=>e.jsx(i,{value:s,children:s},s))})]}),a.department&&e.jsx("p",{className:"text-sm text-red-600",children:a.department})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"session",children:"Session *"}),e.jsxs(h,{value:t.session,onValueChange:s=>r("session",s),children:[e.jsx(x,{className:a.session?"border-red-500":"",children:e.jsx(p,{placeholder:"Select session"})}),e.jsx(j,{children:R.map(s=>e.jsx(i,{value:s,children:s},s))})]}),a.session&&e.jsx("p",{className:"text-sm text-red-600",children:a.session})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"class_roll",children:"Class Roll"}),e.jsx(d,{id:"class_roll",type:"text",value:t.class_roll,onChange:s=>r("class_roll",s.target.value),className:a.class_roll?"border-red-500":"",placeholder:"Enter class roll"}),a.class_roll&&e.jsx("p",{className:"text-sm text-red-600",children:a.class_roll})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"usertype",children:"User Type"}),e.jsxs(h,{value:t.usertype,onValueChange:s=>r("usertype",s),children:[e.jsx(x,{children:e.jsx(p,{placeholder:"Select user type"})}),e.jsxs(j,{children:[e.jsx(i,{value:"user",children:"User"}),e.jsx(i,{value:"student",children:"Student"}),e.jsx(i,{value:"alumni",children:"Alumni"}),e.jsx(i,{value:"faculty",children:"Faculty"})]})]})]})]})})]}),e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5 text-purple-600"}),"Personal Information"]}),e.jsx(f,{children:"Additional personal details (optional)"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(d,{id:"date_of_birth",type:"date",value:t.date_of_birth,onChange:s=>r("date_of_birth",s.target.value),className:a.date_of_birth?"border-red-500":""}),a.date_of_birth&&e.jsx("p",{className:"text-sm text-red-600",children:a.date_of_birth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"blood_group",children:"Blood Group"}),e.jsxs(h,{value:t.blood_group,onValueChange:s=>r("blood_group",s),children:[e.jsx(x,{children:e.jsx(p,{placeholder:"Select blood group"})}),e.jsx(j,{children:q.map(s=>e.jsx(i,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"father_name",children:"Father's Name"}),e.jsx(d,{id:"father_name",type:"text",value:t.father_name,onChange:s=>r("father_name",s.target.value),placeholder:"Enter father's name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"mother_name",children:"Mother's Name"}),e.jsx(d,{id:"mother_name",type:"text",value:t.mother_name,onChange:s=>r("mother_name",s.target.value),placeholder:"Enter mother's name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"skills",children:"Skills & Interests"}),e.jsx(_,{id:"skills",value:t.skills,onChange:s=>r("skills",s.target.value),placeholder:"List skills, interests, or specializations...",className:"min-h-[100px]"})]})]})]}),e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-red-600"}),"Address Information"]}),e.jsx(f,{children:"Current and permanent address details"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"current_address",children:"Current Address"}),e.jsx(_,{id:"current_address",value:t.current_address,onChange:s=>r("current_address",s.target.value),placeholder:"Enter current address...",className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"permanent_address",children:"Permanent Address"}),e.jsx(_,{id:"permanent_address",value:t.permanent_address,onChange:s=>r("permanent_address",s.target.value),placeholder:"Enter permanent address...",className:"min-h-[80px]"})]})]})]}),e.jsx(o,{children:e.jsx(m,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(S,{className:"h-4 w-4 text-green-600"}),"User will be created with login credentials"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{href:"/admin/users/all",children:e.jsx(b,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(b,{type:"submit",disabled:F,className:"min-w-[120px]",children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})})})]})]})})]})}export{Qe as default};
