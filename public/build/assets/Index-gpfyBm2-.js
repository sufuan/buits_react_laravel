import{r as g,j as e,Q as b,S as c}from"./app-CYR8_A6n.js";import{A as N}from"./AdminAuthenticatedLayout-CTe1OmT7.js";import{C as x,d,a as v,b as w}from"./card-XqDTxpKX.js";import{B as l}from"./button-DApKdSMh.js";import{B as y}from"./badge-B-fTs8Av.js";import{I as C}from"./input-DuHn3Mx5.js";import{T as _,a as T,b as h,c as r,d as D,e as m}from"./table-CtJjXJau.js";import{A as n}from"./award-DbQqVMFm.js";import{F as L}from"./file-text-CbLqUZsf.js";import{S}from"./search-HB1IwfTy.js";import{F as k}from"./funnel-x466QVqa.js";import{U as A}from"./user-P1fYDMa7.js";import{C as I}from"./calendar-ByQlL5X-.js";import{E as R}from"./eye-CT6NJ6bn.js";import{D as B}from"./download-CFFWCBMy.js";import{C as F}from"./chevron-left-5-2Nl0G7.js";import{C as z}from"./chevron-right-BhHhgun0.js";import"./index-BsODw5XB.js";import"./createLucideIcon-BAJcpCsp.js";import"./index-BYA3paII.js";import"./clsx-B-dksMZM.js";import"./index-DGq-kHDD.js";import"./index-B7R5Yj8X.js";import"./index-CGNTSBfd.js";import"./breadcrumb-CoIzsEt5.js";import"./index-CnRWoKZx.js";import"./index-CxNRSp3h.js";import"./avatar-Dp9IZtzi.js";import"./index-3hBDnU-Q.js";function de({auth:p,records:a}){const[t,f]=g.useState(""),o=a.data.filter(s=>{var i;return s.user.name.toLowerCase().includes(t.toLowerCase())||s.certificate_number.toLowerCase().includes(t.toLowerCase())||((i=s.user.member_id)==null?void 0:i.toLowerCase().includes(t.toLowerCase()))}),j=s=>{window.open(`/storage/${s}`,"_blank")},u=s=>{window.open(route("certificate.verify",s),"_blank")};return e.jsxs(N,{user:p.user,children:[e.jsx(b,{title:"Certificate Records"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(n,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Records"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and view all issued certificates"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(y,{variant:"outline",className:"px-4 py-2 text-lg",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),a.total," Total"]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(x,{className:"mb-6 border-none shadow-lg",children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(C,{type:"text",placeholder:"Search by name, certificate number, or member ID...",value:t,onChange:s=>f(s.target.value),className:"pl-10 h-12 text-base"})]}),e.jsxs(l,{variant:"outline",className:"h-12 px-6",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Filters"]})]})})}),e.jsxs(x,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx(v,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsx(w,{className:"text-xl",children:"Issued Certificates"})}),e.jsx(d,{className:"p-0",children:o.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(_,{children:[e.jsx(T,{children:e.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(r,{className:"font-semibold",children:"User"}),e.jsx(r,{className:"font-semibold",children:"Certificate No."}),e.jsx(r,{className:"font-semibold",children:"Template"}),e.jsx(r,{className:"font-semibold",children:"Issued Date"}),e.jsx(r,{className:"font-semibold text-right",children:"Actions"})]})}),e.jsx(D,{children:o.map(s=>{var i;return e.jsxs(h,{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.user.image?e.jsx("img",{src:`/storage/${s.user.image}`,alt:s.user.name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx(A,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.user.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.user.email}),s.user.member_id&&e.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["ID: ",s.user.member_id]})]})]})}),e.jsx(m,{children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-3 py-1 rounded-md",children:s.certificate_number})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:((i=s.template)==null?void 0:i.name)||"N/A"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]})}),e.jsx(m,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>u(s.certificate_number),className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),"Verify"]}),s.certificate_path&&e.jsxs(l,{size:"sm",onClick:()=>j(s.certificate_path),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),"Download"]})]})})]},s.id)})})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(n,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No certificates found"}),e.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search criteria":"No certificates have been issued yet"})]})})]}),a.last_page>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",a.from," to ",a.to," of ",a.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(l,{variant:"outline",size:"sm",disabled:!a.prev_page_url,onClick:()=>c.visit(a.prev_page_url),children:[e.jsx(F,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",a.current_page," of ",a.last_page]}),e.jsxs(l,{variant:"outline",size:"sm",disabled:!a.next_page_url,onClick:()=>c.visit(a.next_page_url),children:["Next",e.jsx(z,{className:"w-4 h-4"})]})]})]})]})]})]})}export{de as default};
